<!DOCTYPE html>
<html>
<head>
  <link href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
  <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<div style="height:80%;width:100%">
  <table id="example" class="table table-striped table-bordered hover" cellspacing="0" width="100%">
    <thead>
    <tr><th class="site_name">Name</th><th>Artist </th><th>listeners</th><th>url</th><th>Image</th></tr>
    </thead>
    <tbody>
    </tbody>
  </table>
</div>
<script>
  $( document ).ready(function() {
    var com ="com";
    $.get("https://ipinfo.io", function(response) {
      console.log(response.city, response.country);
    }, "jsonp");
    $('#example').DataTable( {
      ajax: {
        url:"https://ws.audioscrobbler."+com+"/2.0/?method=chart.gettoptracks&api_key=66418c77a86becf1efcbf16f6d1c4402&format=json",
        dataSrc: "tracks.track"
      },
      columns: [
        { "data": "name" },
        { "data": "artist.name"},
        { "data": "listeners" },
        { "data": "url",
          "render": function ( data, type, full, meta ) {
            return '<a href="'+data+'" target="_blank">View</a>';}},
        { "data": "image",
          "render": function ( data, type, full, meta ) {
            return '<img src= "'+data[2]['#text']+'" style="border-radius: 40%;border-style:dashed; border-width: thin;border-color: black" </img>';}}

      ]
    } );
  });
</script>
</body>
</html>